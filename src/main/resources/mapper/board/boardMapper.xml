<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.app.ggshop.v1.mapper.board.BoardMapper">
    <insert id="insert" useGeneratedKeys="true" keyProperty="id">
        insert into tbl_board (board_title, board_content, board_member_id)
        values(#{boardTitle}, #{boardContent}, #{boardMemberId})
    </insert>

<!--    <select id="selectAll">-->
<!--        select-->
<!--        distinct-->
<!--        m.member_name,-->
<!--        p.id, p.post_title, p.post_content, p.post_read_count,-->
<!--        p.post_status, p.member_id, p.created_datetime, p.updated_datetime-->
<!--        from tbl_member m join tbl_post p-->
<!--        on m.id = p.member_id-->
<!--        left outer join tbl_tag t-->
<!--        on p.id = t.post_id-->
<!--        <where>-->
<!--            <include refid="search"></include>-->
<!--        </where>-->
<!--        order by id desc-->
<!--        limit #{criteria.count} offset #{criteria.offset}-->
<!--    </select>-->

<!--    <select id="selectTotal">-->
<!--        select count(*)-->
<!--        from tbl_post p join tbl_tag t-->
<!--        on p.id = t.post_id-->
<!--        <where>-->
<!--            <include refid="search"></include>-->
<!--        </where>-->
<!--    </select>-->

<!--    <select id="selectById">-->
<!--        select-->
<!--            distinct-->
<!--            m.member_name,-->
<!--            p.id, p.post_title, p.post_content, p.post_read_count,-->
<!--            p.post_status, p.member_id, p.created_datetime, p.updated_datetime-->
<!--        from tbl_member m join tbl_post p-->
<!--                               on m.id = p.member_id-->
<!--        where p.id = #{id}-->
<!--    </select>-->

    <update id="update">
        update tbl_borad
        set
            post_title = #{boradTitle},
            post_content = #{boradContent},
            updated_date = current_time
        where id = #{id}
    </update>

    <delete id="delete">
        delete from tbl_board
        where id = #{id}
    </delete>

</mapper>