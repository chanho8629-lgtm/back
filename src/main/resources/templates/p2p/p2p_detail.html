<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>게시글 상세</title>
    <link rel="stylesheet" href="/css/p2p/board-list-modern.css" th:href="@{/css/p2p/board-list-modern.css}">
    <style>
        .detail-wrap {
            max-width: 960px;
            margin: 24px auto;
            padding: 24px;
            border-radius: 20px;
            background: #fff;
            border: 1px solid #e2e8f0;
            box-shadow: 0 14px 28px rgba(15, 23, 42, 0.08);
        }

        .detail-title {
            margin: 0 0 8px;
            font-size: 28px;
            color: #0f172a;
        }

        .detail-meta {
            display: flex;
            gap: 14px;
            color: #64748b;
            font-size: 14px;
            margin-bottom: 16px;
        }

        .detail-summary {
            margin-bottom: 16px;
            padding: 12px;
            border-radius: 12px;
            background: #f8fafc;
            color: #334155;
            border: 1px solid #e2e8f0;
        }

        .detail-content {
            white-space: pre-wrap;
            line-height: 1.7;
            color: #1e293b;
            margin-bottom: 18px;
        }

        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 10px;
            margin: 14px 0 20px;
        }

        .image-grid img {
            width: 100%;
            height: 170px;
            object-fit: cover;
            border-radius: 12px;
            border: 1px solid #dbe5ef;
        }

        .tag-wrap {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .tag-item {
            border-radius: 999px;
            border: 1px solid #bae6fd;
            background: #f0f9ff;
            color: #075985;
            padding: 5px 10px;
            font-size: 12px;
        }

        .detail-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .btn {
            border: 1px solid #cbd5e1;
            border-radius: 10px;
            padding: 8px 14px;
            background: #fff;
            color: #334155;
            text-decoration: none;
            font-weight: 600;
        }

        .btn.primary {
            border-color: transparent;
            background: linear-gradient(135deg, #0f766e, #0d9488);
            color: #fff;
        }
    </style>
</head>
<body>
<div class="detail-wrap">
    <h1 class="detail-title" th:text="${board.title}">제목</h1>
    <div class="detail-meta">
        <span th:text="'작성자 ID: ' + ${board.boardMemberId}">작성자</span>
        <span th:text="'작성일: ' + ${board.createdDate}">작성일</span>
        <span th:if="${board.boardFilter != null}" th:text="'구분: ' + ${board.boardFilter.getValue()}">구분</span>
        <span th:if="${board.boardFilter == null}">구분: all</span>
    </div>

    <div class="detail-summary" th:if="${board.summary != null and !#strings.isEmpty(board.summary)}" th:text="${board.summary}">
        요약
    </div>
    <div class="detail-content" th:text="${board.content}">내용</div>

    <div class="image-grid" th:if="${board.boardFiles != null and !#lists.isEmpty(board.boardFiles)}">
        <img th:each="file : ${board.boardFiles}"
             th:src="@{/api/files/display(filePath=${file.filePath}, fileName=${file.fileName})}"
             th:alt="${file.fileName}">
    </div>

    <div class="tag-wrap" th:if="${board.boardTags != null and !#lists.isEmpty(board.boardTags)}">
        <span class="tag-item" th:each="tag : ${board.boardTags}" th:text="'#' + ${tag.tagName}">#태그</span>
    </div>

    <div class="detail-actions">
        <a class="btn" th:href="@{/p2p/list}">목록</a>
        <a class="btn primary" th:href="@{/p2p/update(id=${board.id})}">수정</a>
    </div>
</div>
</body>
</html>
